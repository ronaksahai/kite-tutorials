---
sidebar_label: Shop
sidebar_position: 7
---

import Off from '@site/src/assets/toggle_off.svg';

# Shop command

*this command would allow admins to add items in the shop.*
- `/shop`

![Shop Example](../../static/flows/eco/shop.png)  

## Arguments
<span className="bigtext">1. **`order`**</span>
- Description : order items by their price
- Type : **Text**
- Argument Required : **False** <Off className="inline-svg"/>
- Choices : 
    - Ascending - `asc`
    - Descending - `desc`

<span className="bigtext">2. **`page`**</span>
- Description : shop's page number
- Type : **Whole Number**
- Argument Required : **False** <Off className="inline-svg"/>
- Minimum Value : **1**

## Get Stored Variable
- Variable : **shop**
- Set Temporary Variable : `shop`

## Calculate Value
- Temporary Variable : `list`
```go title="Expression"
let list = var('shop') ?? [];
let currency = "ðŸª™";
let page = arg('page') != nil ? (arg('page') - 1)*5 : 0;

let shop = sortBy(list, .price, arg('order') ?? "asc")[page:page+5];

map(shop, {
    let item_number = string(page + #index + 1);
    [
        "` " + string(item_number) + ". ` **" + toJSON(.price) + "** " + currency + " - **" + .name + "** ",
        "-# - ID : `" + .id + "`",
        "-# - Remaining stock : " + ( .stock != nil ? toJSON(.stock) : "unlimited"),
		"-# - Required role : " + ( .require != nil ? "<@&" + .require + ">" : "none" ),
        "-# - Gives you " + "<@&" + .role + "> role.",
        "> -# " + .desc,
        ""
    ]
})
```

## Create Response Message
- Add an embed
- Embed Title : `ðŸ›’ Shop`
```go title="Embed Description"
{{var('list') | map({join(#, "\n")}) | join("\n\n")}}
```
```go title="Embed Footer"
Page {{arg('page') ?? 1}} of {{var('shop') ?? "0" | len()/5 | ceil()}} ; Total items in shop - {{var('shop') != nil ? len(var('shop')) : "0"}}
```
:::tip
*You can edit other parts of the embed such as image, color, etc. as you wish!*
:::